{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jakewalsh/Desktop/garden-buddy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jakewalsh/Desktop/garden-buddy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jakewalsh/Desktop/garden-buddy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./styles/schedule.css';import{validateZip}from'../../utils/helpers';import hardinessIMG from'./images/hardiness.jpeg';import hardinessLegend from'./images/hardinessLegend.jpeg';import zone9 from'./images/zone-9.jpg';import zone10 from'./images/zone-10.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Schedule(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),zipCode=_useState2[0],setZipCode=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),growZone=_useState4[0],setGrowZone=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),scheduleLabel=_useState8[0],setScheduleLabel=_useState8[1];var _useState9=useState('data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='),_useState10=_slicedToArray(_useState9,2),schedule=_useState10[0],setSchedule=_useState10[1];var handleInputChange=function handleInputChange(e){var target=e.target;var inputValue=target.value;setZipCode(inputValue);};function fetchZone(_x){return _fetchZone.apply(this,arguments);}function _fetchZone(){_fetchZone=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(zip){var response,zoneResults;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://phzmapi.org/\".concat(zip,\".json\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:zoneResults=_context2.sent;return _context2.abrupt(\"return\",zoneResults);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchZone.apply(this,arguments);};var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Prevent page refresh\ne.preventDefault();if(validateZip(zipCode)){_context.next=7;break;}setErrorMessage('Zipcode must be five numbers');setGrowZone('');setScheduleLabel('');setSchedule('data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=');// We want to exit out of this code block if something is wrong so that the user can correct it\nreturn _context.abrupt(\"return\");case 7:_context.next=9;return fetchZone(zipCode);case 9:result=_context.sent;console.log(result.zone);console.log(typeof result.zone);setGrowZone(result.zone);setZipCode('');setErrorMessage('');setScheduleLabel('Here is the planting schedule for your zone:');if(growZone.startsWith(9)){setSchedule(zone9);}setSchedule(zone10);case 18:case\"end\":return _context.stop();}}},_callee);}));return function handleFormSubmit(_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Find my planting schedule\"}),/*#__PURE__*/_jsx(\"p\",{className:\"zone-description\",children:\"The 2012 USDA Plant Hardiness Zone Map is the standard by which gardeners and growers can determine which plants are most likely to thrive at a location. The map is based on the average annual minimum winter temperature, divided into 10-degree F zones.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hardiness-wrap\",children:[/*#__PURE__*/_jsx(\"img\",{src:hardinessIMG,alt:\"hardiness zones\",className:\"hardiness-map\"}),/*#__PURE__*/_jsx(\"img\",{src:hardinessLegend,alt:\"hardiness legend\",className:\"hardiness-legend\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Enter your zipcode to discover a planting schedule based on your Growing Zone\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"zip-form\",children:[/*#__PURE__*/_jsx(\"input\",{value:zipCode,name:\"zipCode\",onChange:handleInputChange,type:\"text\",placeholder:\"Zip Code\",className:\"zip-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"submit-btn\",onClick:handleFormSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error-div\",children:errorMessage&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errorMessage})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resultsContainer\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"results-label\",children:[\"Your growing zone is: \",growZone]}),/*#__PURE__*/_jsx(\"h3\",{className:\"schedule-label\",children:scheduleLabel})]}),/*#__PURE__*/_jsx(\"div\",{className:\"schedule-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"schedule-img\",alt:\"planting schedule\",src:schedule})})]});}","map":{"version":3,"names":["React","useState","validateZip","hardinessIMG","hardinessLegend","zone9","zone10","Schedule","zipCode","setZipCode","growZone","setGrowZone","errorMessage","setErrorMessage","scheduleLabel","setScheduleLabel","schedule","setSchedule","handleInputChange","e","target","inputValue","value","fetchZone","zip","fetch","response","json","zoneResults","handleFormSubmit","preventDefault","result","console","log","zone","startsWith"],"sources":["/Users/jakewalsh/Desktop/garden-buddy/client/src/components/pages/Schedule.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles/schedule.css';\nimport { validateZip } from '../../utils/helpers';\nimport hardinessIMG from './images/hardiness.jpeg';\nimport hardinessLegend from './images/hardinessLegend.jpeg';\nimport zone9 from './images/zone-9.jpg';\nimport zone10 from './images/zone-10.jpg';\n\n\nexport default function Schedule() {\n\n    const [zipCode, setZipCode] = useState('');\n    const [growZone, setGrowZone] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    const [scheduleLabel, setScheduleLabel] = useState('');\n    const [schedule, setSchedule] = useState('data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=');\n\n    const handleInputChange = (e) => {\n        const { target } = e;\n        const inputValue = target.value;\n\n        setZipCode(inputValue);\n    };\n\n    async function fetchZone(zip) {\n        let response = await fetch(`https://phzmapi.org/${zip}.json`);\n        let zoneResults = await response.json();\n\n        return zoneResults;\n    };\n\n    const handleFormSubmit = async (e) => {\n        // Prevent page refresh\n        e.preventDefault();\n\n        if (!validateZip(zipCode)) {\n            setErrorMessage('Zipcode must be five numbers');\n            setGrowZone('');\n            setScheduleLabel('');\n            setSchedule('data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=');\n            // We want to exit out of this code block if something is wrong so that the user can correct it\n            return;\n        }\n\n        let result = await fetchZone(zipCode);\n\n        console.log(result.zone);\n        console.log(typeof result.zone);\n\n        setGrowZone(result.zone);\n        setZipCode('');\n        setErrorMessage('');\n        setScheduleLabel('Here is the planting schedule for your zone:');\n\n        if (growZone.startsWith(9)) {\n            setSchedule(zone9);\n        }\n        setSchedule(zone10);\n      };\n\n\n\n  return (\n    <>\n        <h1 className='page-title'>Find my planting schedule</h1>\n        <p className='zone-description'>\n            The 2012 USDA Plant Hardiness Zone Map is the standard by which gardeners and growers can determine which plants are most likely to thrive at a location. The map is based on the average annual minimum winter temperature, divided into 10-degree F zones.\n        </p>\n        <div className='hardiness-wrap'>\n            <img src={hardinessIMG} alt='hardiness zones' className='hardiness-map'></img>\n            <img src={hardinessLegend} alt='hardiness legend' className='hardiness-legend'></img>\n        </div>\n        <div className='inputContainer'>\n            <label className='input-label'>Enter your zipcode to discover a planting schedule based on your Growing Zone</label>\n            <form className='zip-form'>\n                <input \n                    value={zipCode}\n                    name='zipCode'\n                    onChange={handleInputChange}\n                    type='text'\n                    placeholder='Zip Code'\n                    className='zip-input'\n                />\n                <button type=\"button\" className='submit-btn' onClick={handleFormSubmit}>Submit</button>\n                <div className='error-div'>\n                    {errorMessage && (\n                        <div>\n                            <p className=\"error-text\">{errorMessage}</p>\n                        </div>\n                    )}\n                </div>\n            </form>\n\n        </div>\n        <div className='resultsContainer'> \n            <h2 className='results-label'>Your growing zone is: {growZone}</h2>\n            <h3 className='schedule-label'>{scheduleLabel}</h3>\n        </div>\n        <div className='schedule-container'> \n            <img className='schedule-img' alt='planting schedule' src={schedule}></img>\n        </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}